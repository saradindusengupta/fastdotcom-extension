!function(){"use strict";var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function e(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var n="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof self&&self||"undefined"!=typeof global&&global||{},r="URLSearchParams"in n,i="Symbol"in n&&"iterator"in Symbol,o="FileReader"in n&&"Blob"in n&&function(){try{return new Blob,!0}catch(t){return!1}}(),a="FormData"in n,s="ArrayBuffer"in n;if(s)var u=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],c=ArrayBuffer.isView||function(t){return t&&u.indexOf(Object.prototype.toString.call(t))>-1};function l(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(t)||""===t)throw new TypeError('Invalid character in header field name: "'+t+'"');return t.toLowerCase()}function h(t){return"string"!=typeof t&&(t=String(t)),t}function d(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return i&&(e[Symbol.iterator]=function(){return e}),e}function f(t){this.map={},t instanceof f?t.forEach(function(t,e){this.append(e,t)},this):Array.isArray(t)?t.forEach(function(t){if(2!=t.length)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+t.length);this.append(t[0],t[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function p(t){if(!t._noBody)return t.bodyUsed?Promise.reject(new TypeError("Already read")):void(t.bodyUsed=!0)}function y(t){return new Promise(function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}})}function v(t){var e=new FileReader,n=y(e);return e.readAsArrayBuffer(t),n}function g(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function w(){return this.bodyUsed=!1,this._initBody=function(t){var e;this.bodyUsed=this.bodyUsed,this._bodyInit=t,t?"string"==typeof t?this._bodyText=t:o&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:a&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:r&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():s&&o&&((e=t)&&DataView.prototype.isPrototypeOf(e))?(this._bodyArrayBuffer=g(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):s&&(ArrayBuffer.prototype.isPrototypeOf(t)||c(t))?this._bodyArrayBuffer=g(t):this._bodyText=t=Object.prototype.toString.call(t):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):r&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},o&&(this.blob=function(){var t=p(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var t=p(this);return t||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}if(o)return this.blob().then(v);throw new Error("could not read as ArrayBuffer")},this.text=function(){var t,e,n,r,i,o=p(this);if(o)return o;if(this._bodyBlob)return t=this._bodyBlob,e=new FileReader,n=y(e),r=/charset=([A-Za-z0-9_-]+)/.exec(t.type),i=r?r[1]:"utf-8",e.readAsText(t,i),n;if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),n=new Array(e.length),r=0;r<e.length;r++)n[r]=String.fromCharCode(e[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},a&&(this.formData=function(){return this.text().then(k)}),this.json=function(){return this.text().then(JSON.parse)},this}f.prototype.append=function(t,e){t=l(t),e=h(e);var n=this.map[t];this.map[t]=n?n+", "+e:e},f.prototype.delete=function(t){delete this.map[l(t)]},f.prototype.get=function(t){return t=l(t),this.has(t)?this.map[t]:null},f.prototype.has=function(t){return this.map.hasOwnProperty(l(t))},f.prototype.set=function(t,e){this.map[l(t)]=h(e)},f.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)},f.prototype.keys=function(){var t=[];return this.forEach(function(e,n){t.push(n)}),d(t)},f.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),d(t)},f.prototype.entries=function(){var t=[];return this.forEach(function(e,n){t.push([n,e])}),d(t)},i&&(f.prototype[Symbol.iterator]=f.prototype.entries);var m=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function b(t,e){if(!(this instanceof b))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var r,i,o=(e=e||{}).body;if(t instanceof b){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new f(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,o||null==t._bodyInit||(o=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"same-origin",!e.headers&&this.headers||(this.headers=new f(e.headers)),this.method=(r=e.method||this.method||"GET",i=r.toUpperCase(),m.indexOf(i)>-1?i:r),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal||function(){if("AbortController"in n)return(new AbortController).signal}(),this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&o)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(o),!("GET"!==this.method&&"HEAD"!==this.method||"no-store"!==e.cache&&"no-cache"!==e.cache)){var a=/([?&])_=[^&]*/;if(a.test(this.url))this.url=this.url.replace(a,"$1_="+(new Date).getTime());else{this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}}function k(t){var e=new FormData;return t.trim().split("&").forEach(function(t){if(t){var n=t.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(r),decodeURIComponent(i))}}),e}function M(t,e){if(!(this instanceof M))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=void 0===e.statusText?"":""+e.statusText,this.headers=new f(e.headers),this.url=e.url||"",this._initBody(t)}b.prototype.clone=function(){return new b(this,{body:this._bodyInit})},w.call(b.prototype),w.call(M.prototype),M.prototype.clone=function(){return new M(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new f(this.headers),url:this.url})},M.error=function(){var t=new M(null,{status:200,statusText:""});return t.ok=!1,t.status=0,t.type="error",t};var O=[301,302,303,307,308];M.redirect=function(t,e){if(-1===O.indexOf(e))throw new RangeError("Invalid status code");return new M(null,{status:e,headers:{location:t}})};var S=n.DOMException;try{new S}catch(t){(S=function(t,e){this.message=t,this.name=e;var n=Error(t);this.stack=n.stack}).prototype=Object.create(Error.prototype),S.prototype.constructor=S}function L(t,e){return new Promise(function(r,i){var a=new b(t,e);if(a.signal&&a.signal.aborted)return i(new S("Aborted","AbortError"));var u=new XMLHttpRequest;function c(){u.abort()}if(u.onload=function(){var t,e,n={statusText:u.statusText,headers:(t=u.getAllResponseHeaders()||"",e=new f,t.replace(/\r?\n[\t ]+/g," ").split("\r").map(function(t){return 0===t.indexOf("\n")?t.substr(1,t.length):t}).forEach(function(t){var n=t.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();try{e.append(r,i)}catch(t){console.warn("Response "+t.message)}}}),e)};0===a.url.indexOf("file://")&&(u.status<200||u.status>599)?n.status=200:n.status=u.status,n.url="responseURL"in u?u.responseURL:n.headers.get("X-Request-URL");var i="response"in u?u.response:u.responseText;setTimeout(function(){r(new M(i,n))},0)},u.onerror=function(){setTimeout(function(){i(new TypeError("Network request failed"))},0)},u.ontimeout=function(){setTimeout(function(){i(new TypeError("Network request timed out"))},0)},u.onabort=function(){setTimeout(function(){i(new S("Aborted","AbortError"))},0)},u.open(a.method,function(t){try{return""===t&&n.location.href?n.location.href:t}catch(e){return t}}(a.url),!0),"include"===a.credentials?u.withCredentials=!0:"omit"===a.credentials&&(u.withCredentials=!1),"responseType"in u&&(o?u.responseType="blob":s&&(u.responseType="arraybuffer")),e&&"object"==typeof e.headers&&!(e.headers instanceof f||n.Headers&&e.headers instanceof n.Headers)){var d=[];Object.getOwnPropertyNames(e.headers).forEach(function(t){d.push(l(t)),u.setRequestHeader(t,h(e.headers[t]))}),a.headers.forEach(function(t,e){-1===d.indexOf(e)&&u.setRequestHeader(e,t)})}else a.headers.forEach(function(t,e){u.setRequestHeader(e,t)});a.signal&&(a.signal.addEventListener("abort",c),u.onreadystatechange=function(){4===u.readyState&&a.signal.removeEventListener("abort",c)}),u.send(void 0===a._bodyInit?null:a._bodyInit)})}L.polyfill=!0,n.fetch||(n.fetch=L,n.Headers=f,n.Request=b,n.Response=M),self.fetch.bind(self);var P="__lodash_hash_undefined__",_="[object Function]",T="[object GeneratorFunction]",j=/^\[object .+?Constructor\]$/,R="object"==typeof t&&t&&t.Object===Object&&t,A="object"==typeof self&&self&&self.Object===Object&&self,U=R||A||Function("return this")();var C,E=Array.prototype,D=Function.prototype,W=Object.prototype,B=U["__core-js_shared__"],I=(C=/[^.]+$/.exec(B&&B.keys&&B.keys.IE_PROTO||""))?"Symbol(src)_1."+C:"",x=D.toString,F=W.hasOwnProperty,q=W.toString,z=RegExp("^"+x.call(F).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),N=E.splice,H=Q(U,"Map"),J=Q(Object,"create");function $(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function G(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function V(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function X(t,e){for(var n=t.length;n--;)if(tt(t[n][0],e))return n;return-1}function Z(t){if(!et(t)||(e=t,I&&I in e))return!1;var e,n=function(t){var e=et(t)?q.call(t):"";return e==_||e==T}(t)||function(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}(t)?z:j;return n.test(function(t){if(null!=t){try{return x.call(t)}catch(t){}try{return t+""}catch(t){}}return""}(t))}function K(t,e){var n,r,i=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof e?"string":"hash"]:i.map}function Q(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return Z(n)?n:void 0}function Y(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a),a};return n.cache=new(Y.Cache||V),n}function tt(t,e){return t===e||t!=t&&e!=e}function et(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}$.prototype.clear=function(){this.__data__=J?J(null):{}},$.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},$.prototype.get=function(t){var e=this.__data__;if(J){var n=e[t];return n===P?void 0:n}return F.call(e,t)?e[t]:void 0},$.prototype.has=function(t){var e=this.__data__;return J?void 0!==e[t]:F.call(e,t)},$.prototype.set=function(t,e){return this.__data__[t]=J&&void 0===e?P:e,this},G.prototype.clear=function(){this.__data__=[]},G.prototype.delete=function(t){var e=this.__data__,n=X(e,t);return!(n<0)&&(n==e.length-1?e.pop():N.call(e,n,1),!0)},G.prototype.get=function(t){var e=this.__data__,n=X(e,t);return n<0?void 0:e[n][1]},G.prototype.has=function(t){return X(this.__data__,t)>-1},G.prototype.set=function(t,e){var n=this.__data__,r=X(n,t);return r<0?n.push([t,e]):n[r][1]=e,this},V.prototype.clear=function(){this.__data__={hash:new $,map:new(H||G),string:new $}},V.prototype.delete=function(t){return K(this,t).delete(t)},V.prototype.get=function(t){return K(this,t).get(t)},V.prototype.has=function(t){return K(this,t).has(t)},V.prototype.set=function(t,e){return K(this,t).set(t,e),this},Y.Cache=V;var nt=e(Y);function rt(t,e){return null==t||null==e?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function it(t,e){return null==t||null==e?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function ot(t){let e,n,r;function i(t,r,i=0,o=t.length){if(i<o){if(0!==e(r,r))return o;do{const e=i+o>>>1;n(t[e],r)<0?i=e+1:o=e}while(i<o)}return i}return 2!==t.length?(e=rt,n=(e,n)=>rt(t(e),n),r=(e,n)=>t(e)-n):(e=t===rt||t===it?t:at,n=t,r=t),{left:i,center:function(t,e,n=0,o=t.length){const a=i(t,e,n,o-1);return a>n&&r(t[a-1],e)>-r(t[a],e)?a-1:a},right:function(t,r,i=0,o=t.length){if(i<o){if(0!==e(r,r))return o;do{const e=i+o>>>1;n(t[e],r)<=0?i=e+1:o=e}while(i<o)}return i}}}function at(){return 0}const st=ot(rt).right;function ut(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}function ct(){var t,e=[.5],n=[0,1],r=1;function i(i){return null!=i&&i<=i?n[st(e,i,0,r)]:t}return i.domain=function(t){return arguments.length?(e=Array.from(t),r=Math.min(e.length,n.length-1),i):e.slice()},i.range=function(t){return arguments.length?(n=Array.from(t),r=Math.min(e.length,n.length-1),i):n.slice()},i.invertExtent=function(t){var r=n.indexOf(t);return[e[r-1],e[r]]},i.unknown=function(e){return arguments.length?(t=e,i):t},i.copy=function(){return ct().domain(e).range(n).unknown(t)},ut.apply(i,arguments)}function lt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function ht(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function dt(t,e,n){return e=Mt(e),function(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,St()?Reflect.construct(e,n||[],Mt(t).constructor):e.apply(t,n))}function ft(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function pt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yt(t,e){return t.get(ht(t,e))}function vt(t,e,n){ft(t,e),e.set(t,n)}function gt(t,e,n){return t.set(ht(t,e),n),n}function wt(t,e){ft(t,e),e.add(t)}function mt(t,e,n){return e&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Et(r.key),r)}}(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function bt(t,e,n){return(e=Et(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kt(){return kt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=At(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},kt.apply(null,arguments)}function Mt(t){return Mt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Mt(t)}function Ot(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jt(t,e)}function St(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(St=function(){return!!t})()}function Lt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function Pt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Lt(Object(n),!0).forEach(function(e){bt(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Lt(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function _t(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(-1!==e.indexOf(r))continue;n[r]=t[r]}return n}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],-1===e.indexOf(n)&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Tt(t,e,n,r){return Tt="undefined"!=typeof Reflect&&Reflect.set?Reflect.set:function(t,e,n,r){var i,o=At(t,e);if(o){if((i=Object.getOwnPropertyDescriptor(o,e)).set)return i.set.call(r,n),!0;if(!i.writable)return!1}if(i=Object.getOwnPropertyDescriptor(r,e)){if(!i.writable)return!1;i.value=n,Object.defineProperty(r,e,i)}else bt(r,e,n);return!0},Tt(t,e,n,r)}function jt(t,e){return jt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},jt(t,e)}function Rt(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],u=!0,c=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);u=!0);}catch(t){c=!0,i=t}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(t,e)||Dt(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function At(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=Mt(t)););return t}function Ut(t,e,n,r,i,o){return function(t,e,n,r,i){if(!Tt(t,e,n,r||t)&&i)throw new TypeError("failed to set property");return n}(Mt(t.prototype),e,n,r,i)}function Ct(t){return function(t){if(Array.isArray(t))return lt(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Dt(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Et(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t,"string");return"symbol"==typeof e?e:e+""}function Dt(t,e){if(t){if("string"==typeof t)return lt(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?lt(t,e):void 0}}ot(function(t){return null===t?NaN:+t}).center;var Wt="https://speed.cloudflare.com",Bt={autoStart:!0,downloadApiUrl:"".concat(Wt,"/__down"),uploadApiUrl:"".concat(Wt,"/__up"),logMeasurementApiUrl:null,logAimApiUrl:"https://aim.cloudflare.com/__log",turnServerUri:"turn.speed.cloudflare.com:50000",turnServerCredsApiUrl:"".concat(Wt,"/turn-creds"),turnServerUser:null,turnServerPass:null,rpkiInvalidHost:"invalid.rpki.cloudflare.com",cfTraceUrl:"".concat(Wt,"/cdn-cgi/trace"),includeCredentials:!1,sessionId:void 0,measurements:[{type:"latency",numPackets:1},{type:"download",bytes:1e5,count:1,bypassMinDuration:!0},{type:"latency",numPackets:20},{type:"download",bytes:1e5,count:9},{type:"download",bytes:1e6,count:8},{type:"upload",bytes:1e5,count:8},{type:"packetLoss",numPackets:1e3,batchSize:10,batchWaitTime:10,responsesWaitTime:3e3},{type:"upload",bytes:1e6,count:6},{type:"download",bytes:1e7,count:6},{type:"upload",bytes:1e7,count:4},{type:"download",bytes:25e6,count:4},{type:"upload",bytes:25e6,count:4},{type:"download",bytes:1e8,count:3},{type:"upload",bytes:5e7,count:3},{type:"download",bytes:25e7,count:2}],measureDownloadLoadedLatency:!0,measureUploadLoadedLatency:!0,loadedLatencyThrottle:400,bandwidthFinishRequestDuration:1e3,estimatedServerTime:10,latencyPercentile:.5,bandwidthPercentile:.9,bandwidthMinRequestDuration:10,loadedRequestMinDuration:250,loadedLatencyMaxPoints:20},It={aimMeasurementScoring:{packetLoss:ct([.01,.05,.25,.5],[10,5,0,-10,-20]),latency:ct([10,20,50,100,500],[20,10,5,0,-10,-20]),loadedLatencyIncrease:ct([10,20,50,100,500],[20,10,5,0,-10,-20]),jitter:ct([10,20,100,500],[10,5,0,-10,-20]),download:ct([1e6,1e7,5e7,1e8],[0,5,10,20,30]),upload:ct([1e6,1e7,5e7,1e8],[0,5,10,20,30])},aimExperiencesDefs:{streaming:{input:["latency","packetLoss","download","loadedLatencyIncrease"],pointThresholds:[15,20,40,60]},gaming:{input:["latency","packetLoss","loadedLatencyIncrease"],pointThresholds:[5,15,25,30]},rtc:{input:["latency","jitter","packetLoss","loadedLatencyIncrease"],pointThresholds:[5,15,25,40]}}},xt=function(t){var e=t.headers.get("server-timing");if(e){var n=e.match(/dur=([0-9.]+)/);if(n)return+n[1]}},Ft=function(t){return t.responseStart-t.requestStart},qt=function(t){return t.responseEnd-t.responseStart},zt=function(t){return t.ping+t.payloadDownloadTime},Nt=function(t){return t.ttfb},Ht=function(t,e){var n=t.duration,r=t.transferSize,i=n/1e3;return i?8*(r||1.005*+e)/i:void 0},Jt=function(t,e){var n=t.duration/1e3;return n?8*e*1.005/n:void 0},$t=nt(function(t){return"0".repeat(t)}),Gt=new WeakMap,Vt=new WeakMap,Xt=new WeakMap,Zt=new WeakMap,Kt=new WeakMap,Qt=new WeakMap,Yt=new WeakMap,te=new WeakMap,ee=new WeakMap,ne=new WeakMap,re=new WeakMap,ie=new WeakMap,oe=new WeakMap,ae=new WeakMap,se=new WeakMap,ue=new WeakMap,ce=new WeakMap,le=new WeakMap,he=new WeakMap,de=new WeakMap,fe=new WeakMap,pe=new WeakMap,ye=new WeakSet,ve=function(){return mt(function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.downloadApiUrl,i=n.uploadApiUrl,o=n.throttleMs,a=void 0===o?0:o,s=n.estimatedServerTime,u=void 0===s?0:s;if(pt(this,t),wt(this,ye),vt(this,Gt,{}),vt(this,Vt,{}),bt(this,"finishRequestDuration",1e3),bt(this,"getServerTime",xt),vt(this,Xt,function(t){return t}),vt(this,Zt,function(){}),vt(this,Kt,function(){}),vt(this,Qt,function(){}),vt(this,Yt,function(){}),vt(this,te,function(){}),vt(this,ee,void 0),vt(this,ne,void 0),vt(this,re,void 0),vt(this,ie,!1),vt(this,oe,{down:!1,up:!1}),vt(this,ae,{down:{},up:{}}),vt(this,se,0),vt(this,ue,0),vt(this,ce,0),vt(this,le,-1/0),vt(this,he,0),vt(this,de,0),vt(this,fe,void 0),vt(this,pe,void 0),!e)throw new Error("Missing measurements argument");if(!r)throw new Error("Missing downloadApiUrl argument");if(!i)throw new Error("Missing uploadApiUrl argument");gt(ee,this,e),gt(ne,this,r),gt(re,this,i),gt(he,this,a),gt(de,this,Math.max(0,u))},[{key:"results",get:function(){return yt(ae,this)}},{key:"qsParams",get:function(){return yt(Gt,this)},set:function(t){gt(Gt,this,t)}},{key:"fetchOptions",get:function(){return yt(Vt,this)},set:function(t){gt(Vt,this,t)}},{key:"responseHook",set:function(t){gt(Xt,this,t)}},{key:"onRunningChange",set:function(t){gt(Zt,this,t)}},{key:"onNewMeasurementStarted",set:function(t){gt(Kt,this,t)}},{key:"onMeasurementResult",set:function(t){gt(Qt,this,t)}},{key:"onFinished",set:function(t){gt(Yt,this,t)}},{key:"onConnectionError",set:function(t){gt(te,this,t)}},{key:"pause",value:function(){clearTimeout(yt(pe,this)),ht(ye,this,be).call(this),ht(ye,this,ge).call(this,!1)}},{key:"play",value:function(){yt(ie,this)||(ht(ye,this,ge).call(this,!0),ht(ye,this,me).call(this))}}])}();function ge(t){var e=this;t!==yt(ie,this)&&(gt(ie,this,t),setTimeout(function(){return yt(Zt,e).call(e,yt(ie,e))}))}function we(t,e){var n=this,r=yt(ee,this)[t],i=r.bytes,o=r.dir,a=yt(ae,this),s=a[o].hasOwnProperty(i)?a[o][i]:{timings:[],numMeasurements:yt(ee,this).filter(function(t){var e=t.bytes,n=t.dir;return i===e&&o===n}).map(function(t){return t.count}).reduce(function(t,e){return t+e},0)};e&&s.timings.push(e),s.timings=s.timings.slice(-s.numMeasurements),a[o][i]=s,e?setTimeout(function(){yt(Qt,n).call(n,Pt({type:o,bytes:i},e),a)}):yt(Kt,this).call(this,yt(ee,this)[t],a)}function me(){var t=this,e=yt(ee,this),n=e[yt(se,this)];if(yt(ue,this)>=n.count){var r=yt(oe,this);if(yt(le,this)>this.finishRequestDuration&&!n.bypassMinDuration){var i=n.dir;yt(oe,this)[i]=!0,Object.values(yt(oe,this)).every(function(t){return t})&&yt(Yt,this).call(this,yt(ae,this))}gt(ue,this,0),gt(le,this,-1/0),performance.clearResourceTimings();do{gt(se,this,yt(se,this)+1)}while(yt(se,this)<e.length&&r[e[yt(se,this)].dir]);if(yt(se,this)>=e.length)return gt(oe,this,{down:!0,up:!0}),ht(ye,this,ge).call(this,!1),void yt(Yt,this).call(this,yt(ae,this));n=e[yt(se,this)]}var o=yt(se,this);0===yt(ue,this)&&ht(ye,this,we).call(this,o);var a=n,s=a.bytes,u="down"===a.dir,c=yt(u?ne:re,this),l=Object.assign({},yt(Gt,this));u&&(l.bytes="".concat(s));var h,d="".concat(c.startsWith("http")||c.startsWith("//")?"":window.location.origin).concat(c,"?").concat(Object.entries(l).map(function(t){var e=Rt(t,2),n=e[0],r=e[1];return"".concat(n,"=").concat(r)}).join("&")),f=Object.assign({},u?{}:{method:"POST",body:$t(s)},yt(Vt,this)),p=gt(fe,this,fetch(d,f).then(function(t){if(t.ok)return t;throw Error(t.statusText)}).then(function(e){return t.getServerTime&&(h=t.getServerTime(e)),e}).then(function(e){return e.text().then(function(n){return yt(Xt,t)&&yt(Xt,t).call(t,{url:d,headers:e.headers,body:n}),n})}).then(function(e,n){if(p._cancel)n("cancelled");else{var r=performance.getEntriesByName(d).slice(-1)[0],i={transferSize:r.transferSize,ttfb:Ft(r),payloadDownloadTime:qt(r),serverTime:h||-1,measTime:new Date};if(i.ping=Math.max(.01,i.ttfb-(h||yt(de,t))),i.duration=(u?zt:Nt)(i),i.bps=(u?Ht:Jt)(i,s),u&&s){var a=+s;i.transferSize&&(i.transferSize<a||i.transferSize/a>1.05)&&console.warn("Requested ".concat(a,"B but received ").concat(i.transferSize,"B (").concat(Math.round(i.transferSize/a*1e4)/100,"%)."))}ht(ye,t,we).call(t,o,i);var c=i.duration;gt(le,t,yt(le,t)<0?c:Math.min(yt(le,t),c)),gt(ue,t,yt(ue,t)+1),gt(ce,t,0),yt(he,t)?gt(pe,t,setTimeout(function(){return ht(ye,t,me).call(t)},yt(he,t))):ht(ye,t,me).call(t)}}).catch(function(e){var n,r;p._cancel||(console.warn("Error fetching ".concat(d,": ").concat(e)),gt(ce,t,(n=yt(ce,t),r=n++,n)),r<20?ht(ye,t,me).call(t):(gt(ce,t,0),ht(ye,t,ge).call(t,!1),yt(te,t).call(t,"Connection failed to ".concat(d,". Gave up after ").concat(20," retries."))))}))}function be(){var t=yt(fe,this);t&&(t._cancel=!0)}var ke=["measureParallelLatency","parallelLatencyThrottleMs","downloadApiUrl","uploadApiUrl","estimatedServerTime"],Me=new WeakMap,Oe=new WeakMap,Se=new WeakSet,Le=function(t){function e(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.measureParallelLatency,o=void 0!==i&&i,a=r.parallelLatencyThrottleMs,s=void 0===a?100:a,u=r.downloadApiUrl,c=r.uploadApiUrl,l=r.estimatedServerTime,h=void 0===l?0:l,d=_t(r,ke);return pt(this,e),wt(n=dt(this,e,[t,Pt({downloadApiUrl:u,uploadApiUrl:c,estimatedServerTime:h},d)]),Se),vt(n,Me,void 0),vt(n,Oe,void 0),o&&(gt(Me,n,new ve([{dir:"down",bytes:0,count:1/0,bypassMinDuration:!0}],{downloadApiUrl:u,uploadApiUrl:c,estimatedServerTime:h,throttleMs:s})),yt(Me,n).qsParams={during:"".concat(t[0].dir,"load")},Ut(e,"onRunningChange",ht(Se,n,Pe),n,1),Ut(e,"onConnectionError",function(){return yt(Me,n).pause()},n,1)),n}return Ot(e,t),mt(e,[{key:"latencyResults",get:function(){return yt(Me,this)&&yt(Me,this).results.down[0].timings}},{key:"onParallelLatencyResult",set:function(t){yt(Me,this)&&(yt(Me,this).onMeasurementResult=function(e){return t(e)})}},{key:"fetchOptions",get:function(){return t="fetchOptions",n=this,r=1,i=kt(Mt(e.prototype),t,n),2&r&&"function"==typeof i?function(t){return i.apply(n,t)}:i;var t,n,r,i},set:function(t){Ut(e,"fetchOptions",t,this,1),yt(Me,this)&&(yt(Me,this).fetchOptions=t)}},{key:"onRunningChange",set:function(t){var n=this;Ut(e,"onRunningChange",function(e){ht(Se,n,Pe).call(n,e),t(e)},this,1)}},{key:"onConnectionError",set:function(t){var n=this;Ut(e,"onConnectionError",function(){yt(Me,n)&&yt(Me,n).pause(),t.apply(void 0,arguments)},this,1)}}])}(ve);function Pe(t){var e=this;yt(Me,this)&&(t?gt(Oe,this,setTimeout(function(){return yt(Me,e).play()},20)):(clearTimeout(yt(Oe,this)),yt(Me,this).pause()))}var _e=["measurementId","logApiUrl","sessionId"],Te=new WeakMap,je=new WeakMap,Re=new WeakMap,Ae=new WeakMap,Ue=new WeakMap,Ce=new WeakSet,Ee=function(t){function e(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.measurementId,o=r.logApiUrl,a=r.sessionId,s=_t(r,_e);return pt(this,e),wt(n=dt(this,e,[t,s]),Ce),vt(n,Te,void 0),vt(n,je,void 0),vt(n,Re,void 0),vt(n,Ae,void 0),vt(n,Ue,void 0),gt(Te,n,i),gt(Ae,n,o),gt(Ue,n,a),Ut(e,"qsParams",o?{measId:yt(Te,n)}:{},n,1),Ut(e,"responseHook",function(t){return ht(Ce,n,De).call(n,t)},n,1),Ut(e,"onMeasurementResult",function(t){return ht(Ce,n,We).call(n,t)},n,1),n}return Ot(e,t),mt(e,[{key:"qsParams",set:function(t){Ut(e,"qsParams",yt(Ae,this)?Pt({measId:yt(Te,this)},t):t,this,1)}},{key:"responseHook",set:function(t){var n=this;Ut(e,"responseHook",function(e){t(e),ht(Ce,n,De).call(n,e)},this,1)}},{key:"onMeasurementResult",set:function(t){var n=this;Ut(e,"onMeasurementResult",function(e){for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];t.apply(void 0,[e].concat(i)),ht(Ce,n,We).call(n,e)},this,1)}}])}(Le);function De(t){yt(Ae,this)&&(gt(Re,this,+t.headers.get("cf-meta-request-time")),gt(je,this,t.body.slice(-300).split("___").pop()))}function We(t){if(yt(Ae,this)){var e={type:t.type,bytes:t.bytes,ping:Math.round(t.ping),ttfb:Math.round(t.ttfb),payloadDownloadTime:Math.round(t.payloadDownloadTime),duration:Math.round(t.duration),transferSize:Math.round(t.transferSize),serverTime:Math.round(t.serverTime),token:yt(je,this),requestTime:yt(Re,this),measId:yt(Te,this),sessionId:yt(Ue,this)};gt(je,this,null),gt(Re,this,null),fetch(yt(Ae,this),Pt({method:"POST",body:JSON.stringify(e)},this.fetchOptions))}}var Be=new WeakMap,Ie=new WeakMap,xe=new WeakMap,Fe=new WeakSet,qe=function(){return mt(function t(e){if(pt(this,t),wt(this,Fe),vt(this,Be,!1),vt(this,Ie,void 0),vt(this,xe,void 0),!e)throw new Error("Missing operation to perform");gt(xe,this,e),this.play()},[{key:"pause",value:function(){ht(Fe,this,He).call(this),ht(Fe,this,ze).call(this,!1)}},{key:"stop",value:function(){this.pause()}},{key:"play",value:function(){yt(Be,this)||(ht(Fe,this,ze).call(this,!0),ht(Fe,this,Ne).call(this))}}])}();function ze(t){t!==yt(Be,this)&&gt(Be,this,t)}function Ne(){var t=this,e=gt(Ie,this,yt(xe,this).call(this).then(function(){!e._cancel&&ht(Fe,t,Ne).call(t)}))}function He(){var t=yt(Ie,this);t&&(t._cancel=!0)}var Je=new WeakMap,$e=function(){return mt(function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.download,i=n.upload;if(pt(this,t),bt(this,"qsParams",{}),bt(this,"fetchOptions",{}),vt(this,Je,[]),!r&&!i)throw new Error("Missing at least one of download/upload config");[[r,"download"],[i,"upload"]].filter(function(t){return Rt(t,1)[0]}).forEach(function(t){var e=Rt(t,2),n=e[0],r=e[1],i=n.apiUrl,o=n.chunkSize;if(!i)throw new Error("Missing ".concat(r," apiUrl argument"));if(!o)throw new Error("Missing ".concat(r," chunkSize argument"))});var o=function(t){var n=t.apiUrl,r=t.qsParams,i=void 0===r?{}:r,o=t.fetchOptions,a=void 0===o?{}:o;return new qe(function(){var t=Object.assign({},i,e.qsParams),r="".concat(n.startsWith("http")||n.startsWith("//")?"":window.location.origin).concat(n,"?").concat(Object.entries(t).map(function(t){var e=Rt(t,2),n=e[0],r=e[1];return"".concat(n,"=").concat(r)}).join("&")),o=Object.assign({},a,e.fetchOptions);return fetch(r,o).then(function(t){if(t.ok)return t;throw Error(t.statusText)}).then(function(t){return t.text()})})};r&&yt(Je,this).push(o({apiUrl:r.apiUrl,qsParams:{bytes:"".concat(r.chunkSize)}})),i&&yt(Je,this).push(o({apiUrl:i.apiUrl,fetchOptions:{method:"POST",body:"0".repeat(i.chunkSize)}}))},[{key:"pause",value:function(){yt(Je,this).forEach(function(t){return t.pause()})}},{key:"stop",value:function(){this.pause()}},{key:"play",value:function(){yt(Je,this).forEach(function(t){return t.play()})}}])}(),Ge=["iceServers","acceptIceCandidate","dataChannelCfg"],Ve=new WeakMap,Xe=new WeakMap,Ze=new WeakMap,Ke=new WeakMap,Qe=new WeakMap,Ye=function(){return mt(function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.iceServers,i=void 0===r?[]:r,o=n.acceptIceCandidate,a=void 0===o?function(t){var e=t.protocol||"";if(!e&&t.candidate){var n=t.candidate.split(" ");n.length>=3&&(e=n[2])}return"udp"===e.toLowerCase()}:o,s=n.dataChannelCfg,u=void 0===s?{ordered:!1,maxRetransmits:0}:s,c=_t(n,Ge);pt(this,t),bt(this,"onOpen",function(){}),bt(this,"onClose",function(){}),bt(this,"onMessageReceived",function(){}),vt(this,Ve,!1),vt(this,Xe,void 0),vt(this,Ze,void 0),vt(this,Ke,void 0),vt(this,Qe,void 0);var l=new RTCPeerConnection(Pt({iceServers:i},c)),h=new RTCPeerConnection(Pt({iceServers:i},c)),d=l.createDataChannel("channel",u);d.onopen=function(){gt(Ve,e,!0),e.onOpen()},d.onclose=function(){return e.close()},h.ondatachannel=function(t){var n=t.channel;n.onclose=function(){return e.close()},n.onmessage=function(t){return e.onMessageReceived(t.data)},gt(Qe,e,n)},l.onicecandidate=function(t){t.candidate&&a(t.candidate)&&h.addIceCandidate(t.candidate)},h.onicecandidate=function(t){t.candidate&&a(t.candidate)&&l.addIceCandidate(t.candidate)},l.createOffer().then(function(t){return l.setLocalDescription(t)}).then(function(){return h.setRemoteDescription(l.localDescription)}).then(function(){return h.createAnswer()}).then(function(t){return h.setLocalDescription(t)}).then(function(){return l.setRemoteDescription(h.localDescription)}),gt(Xe,this,l),gt(Ze,this,h),gt(Ke,this,d),gt(Ve,this,!1)},[{key:"send",value:function(t){return yt(Ke,this).send(t)}},{key:"close",value:function(){return yt(Xe,this)&&yt(Xe,this).close(),yt(Ze,this)&&yt(Ze,this).close(),yt(Ke,this)&&yt(Ke,this).close(),yt(Qe,this)&&yt(Qe,this).close(),yt(Ve,this)&&this.onClose(),gt(Ve,this,!1),this}}])}(),tn=new WeakMap,en=new WeakMap,nn=new WeakMap,rn=new WeakMap,on=new WeakMap,an=new WeakMap,sn=function(){return mt(function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.turnServerUri,i=n.turnServerCredsApi,o=n.turnServerCredsApiParser,a=void 0===o?function(t){return{turnServerUser:t.username,turnServerPass:t.credential,turnServerUri:t.server}}:o,s=n.turnServerCredsApiIncludeCredentials,u=void 0!==s&&s,c=n.turnServerUser,l=n.turnServerPass,h=n.numMsgs,d=void 0===h?100:h,f=n.batchSize,p=void 0===f?10:f,y=n.batchWaitTime,v=void 0===y?10:y,g=n.responsesWaitTime,w=void 0===g?5e3:g,m=n.connectionTimeout,b=void 0===m?5e3:m;if(pt(this,t),vt(this,tn,function(){}),vt(this,en,function(){}),vt(this,nn,function(){}),bt(this,"onMsgSent",function(){}),bt(this,"onAllMsgsSent",function(){}),bt(this,"onMsgReceived",function(){}),vt(this,rn,{}),vt(this,on,void 0),vt(this,an,void 0),!r&&!i)throw new Error("Missing turnServerCredsApi or turnServerUri argument");if(!(c&&l||i))throw new Error("Missing either turnServerCredsApi or turnServerUser+turnServerPass arguments");gt(an,this,d),(c&&l?Promise.resolve({turnServerUser:c,turnServerPass:l}):fetch(i,{credentials:u?"include":void 0}).then(function(t){return t.json()}).then(function(t){if(t.error)throw t.error;return t}).then(a)).catch(function(t){return yt(tn,e).call(e,t)}).then(function(t){var n=t.turnServerUser,i=t.turnServerPass,o=t.turnServerUri,a=gt(on,e,new Ye({iceServers:[{urls:"turn:".concat(o||r,"?transport=udp"),username:n,credential:i}],iceTransportPolicy:"relay"})),s=!1;setTimeout(function(){s||(a.close(),yt(en,e).call(e,"ICE connection timeout!"))},b);var u=yt(rn,e);a.onOpen=function(){s=!0;var t=e;!function e(n){if(n<=d){for(var r=n;r<=Math.min(d,n+p-1);)u[r]=!1,a.send(r),t.onMsgSent(r),r++;setTimeout(function(){return e(r)},v)}else{t.onAllMsgsSent(Object.keys(u).length);var i=function(){a.close(),yt(nn,t).call(t,t.results)},o=setTimeout(i,w),s=Object.values(yt(rn,t)).filter(function(t){return!t}).length;a.onMessageReceived=function(e){clearTimeout(o),u[e]=!0,t.onMsgReceived(e),--s<=0&&Object.values(yt(rn,t)).every(function(t){return t})?i():o=setTimeout(i,w)}}}(1)},a.onMessageReceived=function(t){u[t]=!0,e.onMsgReceived(t)}}).catch(function(t){return yt(en,e).call(e,t.toString())})},[{key:"onCredentialsFailure",set:function(t){gt(tn,this,t)}},{key:"onConnectionError",set:function(t){gt(en,this,t)}},{key:"onFinished",set:function(t){gt(nn,this,t)}},{key:"results",get:function(){var t=yt(an,this),e=Object.keys(yt(rn,this)).length,n=Object.entries(yt(rn,this)).filter(function(t){return!Rt(t,2)[1]}).map(function(t){return+Rt(t,1)[0]});return{totalMessages:t,numMessagesSent:e,packetLoss:n.length/e,lostMessages:n}}}])}(),un=["downloadChunkSize","uploadChunkSize","downloadApiUrl","uploadApiUrl"],cn=new WeakMap,ln=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.downloadChunkSize,i=n.uploadChunkSize,o=n.downloadApiUrl,a=n.uploadApiUrl,s=_t(n,un);return pt(this,e),vt(t=dt(this,e,[s]),cn,void 0),(r||i)&&(gt(cn,t,new $e({download:r?{apiUrl:o,chunkSize:r}:null,upload:i?{apiUrl:a,chunkSize:i}:null})),Ut(e,"onCredentialsFailure",Ut(e,"onConnectionError",Ut(e,"onFinished",function(){return yt(cn,t).stop()},t,1),t,1),t,1)),t}return Ot(e,t),mt(e,[{key:"qsParams",set:function(t){yt(cn,this)&&(yt(cn,this).qsParams=t)}},{key:"fetchOptions",set:function(t){yt(cn,this)&&(yt(cn,this).fetchOptions=t)}},{key:"onCredentialsFailure",set:function(t){var n=this;Ut(e,"onCredentialsFailure",function(){t.apply(void 0,arguments),yt(cn,n)&&yt(cn,n).stop()},this,1)}},{key:"onConnectionError",set:function(t){var n=this;Ut(e,"onConnectionError",function(){t.apply(void 0,arguments),yt(cn,n)&&yt(cn,n).stop()},this,1)}},{key:"onFinished",set:function(t){var n=this;Ut(e,"onFinished",function(){t.apply(void 0,arguments),yt(cn,n)&&yt(cn,n).stop()},this,1)}}])}(sn),hn=["reachable"],dn=mt(function t(e){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.timeout,o=void 0===i?-1:i,a=r.fetchOptions,s=void 0===a?{}:a;pt(this,t),bt(this,"onFinished",function(){});var u=!1,c=function(t){var r=t.reachable,i=_t(t,hn);u||(u=!0,n.onFinished(Pt({targetUrl:e,reachable:r},i)))};fetch(e,s).then(function(t){c({reachable:!0,response:t})}).catch(function(t){c({reachable:!1,error:t})}),o>0&&setTimeout(function(){return c({reachable:!1,error:"Request timeout"})},o)}),fn=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.5;if(!t.length)return 0;var n=t.slice().sort(function(t,e){return t-e}),r=(t.length-1)*e,i=r%1;if(0===i)return n[Math.round(r)];var o=[Math.floor,Math.ceil].map(function(t){return n[t(r)]});return o[0]+(o[1]-o[0])*i},pn=new WeakMap,yn=new WeakMap,vn=function(){return mt(function t(e){var n=this;pt(this,t),bt(this,"getLatencyPoints",function(t){return t.timings.map(function(t){return t.ping})}),bt(this,"getLatency",function(t){return fn(n.getLatencyPoints(t),yt(pn,n).latencyPercentile)}),bt(this,"getBandwidthPoints",function(t){return Object.entries(t).map(function(t){var e=Rt(t,2),n=e[0];return e[1].timings.map(function(t){var e=t.bps,r=t.duration,i=t.ping,o=t.measTime,a=t.serverTime,s=t.transferSize;return{bytes:+n,bps:e,duration:r,ping:i,measTime:o,serverTime:a,transferSize:s}})}).flat()}),bt(this,"getBandwidth",function(t){return fn(n.getBandwidthPoints(t).filter(function(t){return t.duration>=yt(pn,n).bandwidthMinRequestDuration}).map(function(t){return t.bps}).filter(function(t){return t}),yt(pn,n).bandwidthPercentile)}),bt(this,"getLoadedLatency",function(t){return n.getLatency({timings:yt(yn,n).call(n,t)})}),bt(this,"getLoadedJitter",function(t){return n.getJitter({timings:yt(yn,n).call(n,t)})}),bt(this,"getLoadedLatencyPoints",function(t){return n.getLatencyPoints({timings:yt(yn,n).call(n,t)})}),bt(this,"getPacketLoss",function(t){return t.packetLoss}),bt(this,"getPacketLossDetails",function(t){return t}),bt(this,"getReachability",function(t){return!!t.reachable}),bt(this,"getReachabilityDetails",function(t){return{host:t.host,reachable:t.reachable}}),vt(this,pn,void 0),vt(this,yn,function(t){return Object.values(t).filter(function(t){return t.timings.length&&Math.min.apply(Math,Ct(t.timings.map(function(t){return t.duration})))>=yt(pn,n).loadedRequestMinDuration}).map(function(t){return t.sideLatency||[]}).flat().slice(-yt(pn,n).loadedLatencyMaxPoints)}),gt(pn,this,e)},[{key:"getJitter",value:function(t){var e=this.getLatencyPoints(t);return e.length<2?null:e.reduce(function(t,e){var n=t.sumDeltas,r=void 0===n?0:n,i=t.prevLatency;return{sumDeltas:r+(void 0!==i?Math.abs(i-e):0),prevLatency:e}},{}).sumDeltas/(e.length-1)}}])}(),gn=["bad","poor","average","good","great"],wn={loadedLatencyIncrease:function(t){return t.latency&&(t.downLoadedLatency||t.upLoadedLatency)?Math.max(t.downLoadedLatency,t.upLoadedLatency)-t.latency:void 0}},mn={packetLoss:0},bn=new WeakMap,kn=function(){return mt(function t(e){pt(this,t),vt(this,bn,void 0),gt(bn,this,e)},[{key:"getScores",value:function(t){var e=Object.assign.apply(Object,Ct(Object.entries(yt(bn,this).aimMeasurementScoring).map(function(e){var n=Rt(e,2),r=n[0],i=n[1],o=wn.hasOwnProperty(r)?wn[r](t):t[r];return void 0===o?mn.hasOwnProperty(r)?bt({},r,mn[r]):{}:bt({},r,void 0===o?0:+i(o))})));return Object.assign.apply(Object,[{}].concat(Ct(Object.entries(yt(bn,this).aimExperiencesDefs).filter(function(t){return Rt(t,2)[1].input.every(function(t){return e.hasOwnProperty(t)})}).map(function(t){var n,r=Rt(t,2),i=r[0],o=r[1],a=o.input,s=o.pointThresholds,u=Math.max(0,(n=a.map(function(t){return e[t]}),n.reduce(function(t,e){return t+e},0))),c=ct(s,[0,1,2,3,4])(u);return bt({},i,{points:u,classificationIdx:c,classificationName:gn[c]})}))))}}])}(),Mn=new WeakMap,On=new WeakMap,Sn=new WeakMap,Ln=new WeakMap,Pn=new WeakMap,_n=new WeakMap,Tn=new WeakMap,jn=new WeakMap,Rn=function(){return mt(function t(e){var n=this;pt(this,t),bt(this,"raw",void 0),bt(this,"getUnloadedLatency",function(){return yt(Ln,n).call(n,"getLatency","latency")}),bt(this,"getUnloadedJitter",function(){return yt(Ln,n).call(n,"getJitter","latency")}),bt(this,"getUnloadedLatencyPoints",function(){return yt(Ln,n).call(n,"getLatencyPoints","latency",[])}),bt(this,"getDownLoadedLatency",function(){return yt(Ln,n).call(n,"getLoadedLatency","download")}),bt(this,"getDownLoadedJitter",function(){return yt(Ln,n).call(n,"getLoadedJitter","download")}),bt(this,"getDownLoadedLatencyPoints",function(){return yt(Ln,n).call(n,"getLoadedLatencyPoints","download",[])}),bt(this,"getUpLoadedLatency",function(){return yt(Ln,n).call(n,"getLoadedLatency","upload")}),bt(this,"getUpLoadedJitter",function(){return yt(Ln,n).call(n,"getLoadedJitter","upload")}),bt(this,"getUpLoadedLatencyPoints",function(){return yt(Ln,n).call(n,"getLoadedLatencyPoints","upload",[])}),bt(this,"getDownloadBandwidth",function(){return yt(Ln,n).call(n,"getBandwidth","download")}),bt(this,"getDownloadBandwidthPoints",function(){return yt(Ln,n).call(n,"getBandwidthPoints","download",[])}),bt(this,"getUploadBandwidth",function(){return yt(Ln,n).call(n,"getBandwidth","upload")}),bt(this,"getUploadBandwidthPoints",function(){return yt(Ln,n).call(n,"getBandwidthPoints","upload",[])}),bt(this,"getPacketLoss",function(){return yt(Ln,n).call(n,"getPacketLoss","packetLoss")}),bt(this,"getPacketLossDetails",function(){return yt(Ln,n).call(n,"getPacketLossDetails","packetLoss",void 0,!0)}),bt(this,"getScores",function(){return yt(Sn,n).getScores(n.getSummary())}),vt(this,Mn,void 0),vt(this,On,void 0),vt(this,Sn,void 0),vt(this,Ln,function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return n.raw.hasOwnProperty(e)&&n.raw[e].started?i&&n.raw[e].error?{error:n.raw[e].error}:yt(On,n)[t](n.raw[e].results):r}),vt(this,Pn,function(){return yt(Ln,n).call(n,"getReachability","v4Reachability")}),vt(this,_n,function(){return yt(Ln,n).call(n,"getReachabilityDetails","v4Reachability")}),vt(this,Tn,function(){return yt(Ln,n).call(n,"getReachability","v6Reachability")}),vt(this,jn,function(){return yt(Ln,n).call(n,"getReachabilityDetails","v6Reachability")}),gt(Mn,this,e),this.clear(),gt(On,this,new vn(yt(Mn,this))),gt(Sn,this,new kn(yt(Mn,this)))},[{key:"isFinished",get:function(){return Object.values(this.raw).every(function(t){return t.finished})}},{key:"clear",value:function(){this.raw=Object.assign.apply(Object,[{}].concat(Ct(Ct(new Set(yt(Mn,this).measurements.map(function(t){return t.type}))).map(function(t){return bt({},t,{started:!1,finished:!1,results:{}})}))))}},{key:"getSummary",value:function(){var t={download:this.getDownloadBandwidth,upload:this.getUploadBandwidth,latency:this.getUnloadedLatency,jitter:this.getUnloadedJitter,downLoadedLatency:this.getDownLoadedLatency,downLoadedJitter:this.getDownLoadedJitter,upLoadedLatency:this.getUpLoadedLatency,upLoadedJitter:this.getUpLoadedJitter,packetLoss:this.getPacketLoss,v4Reachability:yt(Pn,this),v6Reachability:yt(Tn,this)};return Object.assign.apply(Object,Ct(Object.entries(t).map(function(t){var e=Rt(t,2),n=e[0],r=(0,e[1])();return void 0===r?{}:bt({},n,r)})))}}])}(),An=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t?Math.round(t*Math.pow(10,e))/Math.pow(10,e):t},Un=function(t){return t.map(function(t){return An(t,2)})},Cn=function(t){return t.map(function(t){return{bytes:+t.bytes,bps:An(t.bps)}})},En={latencyMs:["getUnloadedLatencyPoints",Un],download:["getDownloadBandwidthPoints",Cn],upload:["getUploadBandwidthPoints",Cn],downLoadedLatencyMs:["getDownLoadedLatencyPoints",Un],upLoadedLatencyMs:["getUpLoadedLatencyPoints",Un],packetLoss:["getPacketLossDetails",function(t){return t.error?void 0:{numMessages:t.numMessagesSent,lossRatio:An(t.packetLoss,4)}}]},Dn=["type"],Wn=["numPackets"],Bn=["bytes"],In=["latency","latencyUnderLoad","download","upload"],xn=function(){return"".concat(Math.round(1e16*Math.random()))},Fn=new WeakMap,qn=new WeakMap,zn=new WeakMap,Nn=new WeakMap,Hn=new WeakMap,Jn=new WeakMap,$n=new WeakMap,Gn=new WeakMap,Vn=new WeakMap,Xn=new WeakMap,Zn=new WeakMap,Kn=new WeakSet,Qn=function(){return mt(function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};pt(this,t),wt(this,Kn),bt(this,"onRunningChange",function(){}),bt(this,"onResultsChange",function(){}),vt(this,Fn,function(){}),vt(this,qn,function(){}),vt(this,zn,void 0),vt(this,Nn,void 0),vt(this,Hn,xn()),vt(this,Jn,-1),vt(this,$n,void 0),vt(this,Gn,1e6),vt(this,Vn,1e6),vt(this,Xn,!1),vt(this,Zn,!1),gt(zn,this,Object.assign({},Bt,e,It)),gt(Nn,this,new Rn(yt(zn,this))),yt(zn,this).autoStart&&this.play()},[{key:"results",get:function(){return yt(Nn,this)}},{key:"isRunning",get:function(){return yt(Xn,this)}},{key:"isFinished",get:function(){return yt(Zn,this)}},{key:"onFinish",set:function(t){gt(Fn,this,t)}},{key:"onError",set:function(t){gt(qn,this,t)}},{key:"pause",value:function(){In.includes(ht(Kn,this,er).call(this))&&yt($n,this).pause(),ht(Kn,this,Yn).call(this,!1)}},{key:"play",value:function(){yt(Xn,this)||(ht(Kn,this,Yn).call(this,!0),ht(Kn,this,or).call(this))}},{key:"restart",value:function(){ht(Kn,this,rr).call(this),this.play()}}])}();function Yn(t){t!==yt(Xn,this)&&(gt(Xn,this,t),this.onRunningChange(yt(Xn,this)))}function tr(t){var e=this;t!==yt(Zn,this)&&(gt(Zn,this,t),t&&setTimeout(function(){return yt(Fn,e).call(e,e.results)}))}function er(){return yt(Jn,this)<0||yt(Jn,this)>=yt(zn,this).measurements.length?null:yt(zn,this).measurements[yt(Jn,this)].type}function nr(){return yt(Nn,this).raw[ht(Kn,this,er).call(this)]||void 0}function rr(){ht(Kn,this,ir).call(this),gt(Hn,this,xn()),gt(Jn,this,-1),gt($n,this,void 0),ht(Kn,this,Yn).call(this,!1),ht(Kn,this,tr).call(this,!1),yt(Nn,this).clear()}function ir(){var t=yt($n,this);t&&(t.onFinished=t.onConnectionError=t.onFail=t.onMsgReceived=t.onCredentialsFailure=t.onMeasurementResult=function(){},In.includes(ht(Kn,this,er).call(this))&&t.pause())}function or(){var t,e=this;if(!(In.includes(ht(Kn,this,er).call(this))&&ht(Kn,this,nr).call(this)&&ht(Kn,this,nr).call(this).started)||ht(Kn,this,nr).call(this).finished||ht(Kn,this,nr).call(this).finishedCurrentRound||ht(Kn,this,nr).call(this).error){if(gt(Jn,this,(t=yt(Jn,this),++t)),yt(Jn,this)>=yt(zn,this).measurements.length)return ht(Kn,this,Yn).call(this,!1),void ht(Kn,this,tr).call(this,!0);var n,r=yt(zn,this).measurements[yt(Jn,this)],i=r.type,o=_t(r,Dn),a=ht(Kn,this,nr).call(this),s=yt(zn,this),u=s.downloadApiUrl,c=s.uploadApiUrl,l=s.estimatedServerTime;switch(i){case"v4Reachability":case"v6Reachability":(n=new dn("https://".concat(o.host),{fetchOptions:{method:"GET",mode:"no-cors"}})).onFinished=function(t){a.finished=!0,a.results=Pt({host:o.host},t),e.onResultsChange({type:i}),ht(Kn,e,or).call(e)};break;case"rpki":(n=new dn("https://".concat(yt(zn,this).rpkiInvalidHost),{timeout:5e3})).onFinished=function(t){(t.response?t.response.json():Promise.resolve()).then(function(n){a.finished=!0,a.results=Pt({host:yt(zn,e).rpkiInvalidHost,filteringInvalids:!t.reachable},n?{asn:n.asn,name:n.name}:{}),e.onResultsChange({type:i}),ht(Kn,e,or).call(e)})};break;case"nxdomain":(n=new dn("https://".concat(o.nxhost),{fetchOptions:{mode:"no-cors"}})).onFinished=function(t){a.finished=!0,a.results={host:o.nxhost,reachable:t.reachable},e.onResultsChange({type:i}),ht(Kn,e,or).call(e)};break;case"packetLoss":case"packetLossUnderLoad":a.finished=!1;var h=o.numPackets,d=_t(o,Wn),f=yt(zn,this),p=f.turnServerUri,y=f.turnServerCredsApiUrl,v=f.turnServerUser,g=f.turnServerPass,w=f.includeCredentials;(n=new ln(Pt({turnServerUri:p,turnServerCredsApi:y,turnServerCredsApiIncludeCredentials:w,turnServerUser:v,turnServerPass:g,numMsgs:h,downloadChunkSize:o.loadDown?yt(Gn,this):void 0,uploadChunkSize:o.loadUp?yt(Vn,this):void 0,downloadApiUrl:u,uploadApiUrl:c},d))).onMsgReceived=function(){a.results=Object.assign({},n.results),e.onResultsChange({type:i})},n.onFinished=function(){a.finished=!0,e.onResultsChange({type:i}),ht(Kn,e,or).call(e)},n.onConnectionError=function(t){a.error=t,e.onResultsChange({type:i}),yt(qn,e).call(e,"Connection error while measuring packet loss: ".concat(t)),ht(Kn,e,or).call(e)},n.onCredentialsFailure=function(){a.error="unable to get turn server credentials",e.onResultsChange({type:i}),yt(qn,e).call(e,"Error while measuring packet loss: unable to get turn server credentials."),ht(Kn,e,or).call(e)};break;case"latency":case"latencyUnderLoad":a.finished=!1,(n=new Ee([{dir:"down",bytes:0,count:o.numPackets,bypassMinDuration:!0}],{downloadApiUrl:u,uploadApiUrl:c,estimatedServerTime:l,logApiUrl:yt(zn,this).logMeasurementApiUrl,measurementId:yt(Hn,this),sessionId:yt(zn,this).sessionId,downloadChunkSize:o.loadDown?yt(Gn,this):void 0,uploadChunkSize:o.loadUp?yt(Vn,this):void 0})).fetchOptions={credentials:yt(zn,this).includeCredentials?"include":void 0},n.onMeasurementResult=n.onNewMeasurementStarted=function(t,n){a.results=Object.assign({},n.down[0]),e.onResultsChange({type:i})},n.onFinished=function(){a.finished=!0,e.onResultsChange({type:i}),yt(Xn,e)&&ht(Kn,e,or).call(e)},n.onConnectionError=function(t){a.error=t,e.onResultsChange({type:i}),yt(qn,e).call(e,"Connection error while measuring latency: ".concat(t)),ht(Kn,e,or).call(e)},n.play();break;case"download":case"upload":if(a.finished||a.error)ht(Kn,this,or).call(this);else{delete a.finishedCurrentRound;var m=yt(zn,this)["measure".concat("download"===i?"Down":"Up","loadLoadedLatency")];(n=new Ee([Pt({dir:"download"===i?"down":"up"},o)],{downloadApiUrl:u,uploadApiUrl:c,estimatedServerTime:l,logApiUrl:yt(zn,this).logMeasurementApiUrl,measurementId:yt(Hn,this),measureParallelLatency:m,parallelLatencyThrottleMs:yt(zn,this).loadedLatencyThrottle,sessionId:yt(zn,this).sessionId})).fetchOptions={credentials:yt(zn,this).includeCredentials?"include":void 0},n.finishRequestDuration=yt(zn,this).bandwidthFinishRequestDuration,n.onNewMeasurementStarted=function(t){var n=t.count,r=t.bytes,o=a.results=Object.assign({},a.results);!o.hasOwnProperty(r)&&(o[r]={timings:[],numMeasurements:0,sideLatency:m?[]:void 0}),o[r].numMeasurements-o[r].timings.length!==n&&(o[r].numMeasurements+=n,e.onResultsChange({type:i}))},n.onMeasurementResult=function(t){var n=t.bytes,r=_t(t,Bn);a.results[n].timings.push(r),a.results=Object.assign({},a.results),e.onResultsChange({type:i})},n.onParallelLatencyResult=function(t){a.results[o.bytes].sideLatency.push(t),a.results=Object.assign({},a.results),e.onResultsChange({type:i})},n.onFinished=function(t){var n=!yt(zn,e).measurements.slice(yt(Jn,e)+1).map(function(t){return t.type}).includes(i),r=Math.min.apply(Math,Ct(Object.values("download"===i?t.down:t.up).slice(-1)[0].timings.map(function(t){return t.duration})));if(n||!o.bypassMinDuration&&r>yt(zn,e).bandwidthFinishRequestDuration){a.finished=!0,e.onResultsChange({type:i});var s=.5*Object.keys(a.results).map(function(t){return+t}).sort(function(t,e){return e-t})[0];"download"===i&&gt(Gn,e,s),"upload"===i&&gt(Vn,e,s)}else a.finishedCurrentRound=!0;yt(Xn,e)&&ht(Kn,e,or).call(e)},n.onConnectionError=function(t){a.error=t,e.onResultsChange({type:i}),yt(qn,e).call(e,"Connection error while measuring ".concat(i,": ").concat(t)),ht(Kn,e,or).call(e)},n.play()}}gt($n,this,n),a.started=!0,this.onResultsChange({type:i})}else yt($n,this).play()}var ar=new WeakMap,sr=new WeakMap,ur=new WeakMap,cr=function(t){function e(t){var n;pt(this,e);for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];vt(n=dt(this,e,[t].concat(i)),ar,void 0),vt(n,sr,void 0),vt(n,ur,function(t){yt(ar,n)&&function(t,e){var n=e.apiUrl,r={sessionId:e.sessionId};Object.entries(En).forEach(function(e){var n=Rt(e,2),i=n[0],o=Rt(n[1],2),a=o[0],s=o[1],u=void 0===s?function(t){return t}:s,c=t[a]();c&&(r[i]=u(c))});var i=t.getScores();i&&(r.scores=Object.assign.apply(Object,[{}].concat(Ct(Object.entries(i).map(function(t){var e,n=Rt(t,2);return bt({},n[0],{points:(e=n[1]).points,classification:e.classificationName})}))))),fetch(n,{method:"POST",body:JSON.stringify(r)})}(t,{apiUrl:yt(ar,n),sessionId:yt(sr,n)})}),Ut(e,"onFinish",yt(ur,n),n,1);var a=Object.assign({},Bt,t,It);return gt(ar,n,a.logAimApiUrl),gt(sr,n,a.sessionId),n}return Ot(e,t),mt(e,[{key:"onFinish",set:function(t){var n=this;Ut(e,"onFinish",function(e){t(e),yt(ur,n).call(n,e)},this,1)}}])}(Qn);"undefined"!=typeof self&&(self.CloudflareSpeedtest={createSpeedTest:function({onProgress:t,onComplete:e,onError:n}){let r=null,i=!1,o=null;const a={autoStart:!1,measurements:[{type:"latency",numPackets:1},{type:"download",bytes:1e5,count:1,bypassMinDuration:!0},{type:"latency",numPackets:20},{type:"download",bytes:1e5,count:9},{type:"download",bytes:1e6,count:8},{type:"upload",bytes:1e5,count:8},{type:"upload",bytes:1e6,count:6},{type:"download",bytes:1e7,count:6},{type:"upload",bytes:1e7,count:4},{type:"download",bytes:25e6,count:4}],measureDownloadLoadedLatency:!0,measureUploadLoadedLatency:!0,loadedLatencyThrottle:400,bandwidthFinishRequestDuration:1e3};function s(){if(i)return{ok:!1,reason:"already-running"};try{return o=Date.now(),r=new cr(a),r.onRunningChange=t=>{i=t},r.onResultsChange=({type:e})=>{if(!r||!r.results)return;const n=r.results.getSummary(),i=Date.now()-o,a=Math.min(100,i/3e4*100),s=n.download?n.download/1e6:null,u=n.upload?n.upload/1e6:null,c=n.latency||null,l=n.jitter||null;t&&t({download:s,upload:u,latency:c,jitter:l,progress:Math.round(a),phase:e,timestamp:Date.now()})},r.onFinish=t=>{const n=t.getSummary(),r={download:n.download?n.download/1e6:null,upload:n.upload?n.upload/1e6:null,latency:n.latency||null,jitter:n.jitter||null,downLoadedLatency:n.downLoadedLatency||null,upLoadedLatency:n.upLoadedLatency||null,timestamp:Date.now()};i=!1,e&&e(r)},r.onError=t=>{i=!1,n&&n(t)},r.play(),{ok:!0}}catch(t){return i=!1,n&&n(t.message||"Failed to start speed test"),{ok:!1,reason:t.message}}}return{start:s,pause:function(){return r&&i?(r.pause(),i=!1,{ok:!0}):{ok:!1,reason:"not-running"}},restart:function(){return r?(o=Date.now(),r.restart(),{ok:!0}):s()},getStatus:function(){return{isRunning:i,hasEngine:!!r}}}}})}();
